---
layout: post
title: Git学习笔记（1）
category: 技术
tags: Git
description: Git学习笔记（1）
---

#### 教程来源：[廖雪峰的官方网站](http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000 "廖雪峰的官方网站")
---
1. 创建版本库
	- 初始化一个Git仓库，使用`git init`命令
	- 添加文件到Git仓库，分两步：
		- 第一步，使用命令`git add <file>`，可反复使用添加多个文件
		- 第二步，使用命令`git commit -m "xxx"`，`-m`后面输入的是本次提交的说明，可以输入任意内容，非强制但推荐

2. 时光机穿梭
	1. 预备知识
		- 掌握工作区的状态，使用`git status`命令
		- 如果`git status`告诉你有文件被修改过，用`git diff`可以查看修改内容
	2. 版本回退
		- 使用命令`git log`可以查看从最近到最远的三次提交日志，若嫌输出信息太多，可以加上参数`--pretty=oneline`
		- 使用命令`git reset --hard commit_id`在不同版本穿梭。`commit_id`可以用类似于`HEAD`的形式代替。`HEAD`指向的版本就是当前版本，上一个版本就是`HEAD^`,上上版本就是`HEAD^^`,往上100个版本可以写作`HEAD~100`
		- 要重返回来，用`git reflog`查看命令历史，通过获得具体`commit_id`来确定要回到哪个版本上
	3. 工作区和暂存区  
		工作区（Working Directory）：就是在你电脑里能看到的目录  
		版本库（Repository）：工作区里的隐藏目录`.git`  
		暂存区：版本库中的`index`  
		把文件往Git版本库添加分两步执行：  
			1. 第一步用`git add`把文件添加进去，实际上就是把文件修改添加到暂存区
			2. 第二步用`git commit`提交更改，实际上就是把暂存区的所有内容提交到当前分支
	4. 管理修改  
		Git比其他版本控制系统设计得优秀，因为Git跟踪并管理的是修改，而非文件  
		每次修改，如果不add到暂存区，那就不会加入到commit中  
	5. 撤销修改
		1. `git checkout -- file`可以丢弃工作区的修改，适合于两种情形：
			1. 文件修改后还没有放到暂存区，撤销修改后和版本库一模一样。即让文件回到最近一次`git commit`状态
			2. 文件已经添加到暂存区后又作了修改，撤销修改就回到添加到暂存区以后的状态。即让文件回到最近一次`git add`状态
		2. `git reset HEAD file`可以把暂存区的修改退回到工作区，当使用**HEAD**时，表示最新版本。至于如何丢弃工作区的修改，上一条已解释
	6. 删除文件  
		分以下两种情况：
		1. 直接在文件管理器中删除文件，或者用**rm**命令。此时工作区和版本库就不一致，可用`git status`查看，进而有以下两种情况：
			- 确认删除：需要从版本库中删除该文件，使用命令`git rm`,并且`git commit`
			- 文件恢复：因为文件修改尚未放到暂存区，所以使用命令`git checkout -- file`
		2. 使用git命令`git rm`删除文件，同时自动将修改加入暂存区。同理有以下两种情况：
			- 确认删除：只需提交即可
			- 文件恢复：因为已将修改加入暂存区，首先使用`git reset HEAD file`把暂存区的修改退回到工作区，再使用`git checkout -- file`丢弃修改来恢复