---
layout: post
title: 《高性能 JavaScript》笔记（一）
category: 笔记
tags: JavaScript, 高性能, 设计模式, JS
description: 《高性能 JavaScript》笔记

---

# 第1章 加载和执行

1. 多数浏览器使用单一进程来处理用户界面（UI）刷新和 JavaScript 脚本执行，所以同一时刻只能做一件事。JavaScript 执行过程耗时越久，浏览器等待响应的时间就越长。
2. 由于脚本会阻塞页面其他资源的下载，因此推荐将所有的 `<script>` 标签尽可能放到 `<body>` 标签的底部，以尽量减少对整个页面下载的影响。
3. 减少页面包含的 `<script>` 标签数量有助于改善阻塞页面渲染这一情况。
4. 把一段内嵌脚本放在引用外链样式表的 `<link>` 标签之后会导致页面阻塞去等待样式表的下载，这样做是为了确保内嵌脚本在执行时能获得最精确的样式信息。建议永远不要把内嵌脚本紧跟在 `<link>` 标签之后。
5. 无阻塞脚本

	1. 延迟的脚本
		在 window 对象的 load 事件触发后再下载脚本。 采用 `defer` 属性。`defer` 与 `async` 的相同点是采用并行下载，在下载过程中不会产生阻塞。区别在于执行时机，`async` 是加载完成后自动执行，而 `defer` 需要等待页面完成后执行。

	2. 动态脚本元素
	
		用标准的 DOM 方法可以很容易地创建一个新的 `<script>`，文件在该元素被添加到页面时开始下载，并可通过侦听事件来获得脚本加载完成时的状态。
		
	3. XMLHttpRequest 脚本注入
	
		如果收到了有效响应，就创建一个带有内联脚本的 `<script>` 标签。这种方法的优点是可以下载 JavaScript 代码但不立即执行，以及在所有主流浏览器中无一例外都能工作。主要局限是同源策略。
		
# 第2章 数据存取

（最后修改于 2016-03-28）